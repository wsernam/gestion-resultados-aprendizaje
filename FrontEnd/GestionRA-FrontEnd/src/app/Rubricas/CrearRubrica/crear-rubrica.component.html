<!--
<div class="container mt-4">
    <h2>{{title}}</h2>
     
    <div class="form-group mt-2">
        <label for="descripcionRubrica">Descripción</label>
        <textarea clas="form-control" id="descripcionRubrica" rows="2" [(ngModel)]="rubrica.descripcion"></textarea>
    </div>

    <div class="mb-3">
        <label class="form-label">Ponderado</label>
        <input type="number" class="form-control" [(ngModel)]="rubrica.ponderado" step="0.1" min="0" max="1">
    </div>

    <hr>

    <div *ngFor="let criterio of rubrica.listaCriterios; let i = index" class="mb-4 border rounded p-3">
        <h5>Criterio {{ i + 1 }}</h5>

        <div class="mb-2">
            <label class="form-label">Descripción</label>
            <textarea class="form-control" rows="2" [(ngModel)]="criterio.descripcion"></textarea>
        </div>

        <div *ngFor="let nivel of criterio.listaNiveles; let j = index" class="ms-3 mb-2">
            <h6 class="fw-bold">Nivel {{ j + 1 }}</h6>

            <div class="mb-2">
                <label class="form-label">Descripción</label>
                <textarea class="form-control" [(ngModel)]="nivel.descripcion" rows="2"></textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Nota</label>
                <input type="number" class="form-control" [(ngModel)]="nivel.nota" min="0" max="5">
            </div>

            <button class="btn btn-sm btn-danger" (click)="eliminarNivel(i, j)">Eliminar nivel</button>

            <hr>

        </div>

        <button class="btn btn-sm btn-secondary mb-3" (click)="agregarNivel(i)">Agregar Nivel</button>
        <button class="btn btn-sm btn-danger ms-2" (click)="eliminarCriterio(i)">Eliminar Criterio</button>

        <hr>

    </div>

    <button class="btn btn-primary" (click)="agregarCriterio()">Agregar Criterio</button>

    <hr>

</div>

<button class="btn btn-primary" (click)="guardarRubrica()">Guardar Rúbrica</button>
-->

<div class="container mt-4">
  <h2>{{title}}</h2>

  <!-- Descripción de la rúbrica -->
  <div class="form-group mt-2">
    <label for="descripcionRubrica">Descripción</label>
    <textarea class="form-control" id="descripcionRubrica" rows="2" [(ngModel)]="rubrica.descripcion"></textarea>
  </div>

  <!-- Ponderado -->
  <div class="mb-3">
    <label class="form-label">Ponderado</label>
    <input type="number" class="form-control" [(ngModel)]="rubrica.ponderado" step="0.1" min="0" max="1">
  </div>

  <hr>

  <!-- Criterios -->
  <div *ngFor="let criterio of rubrica.listaCriterios; let i = index" class="mb-5 border p-3 rounded">
    <h5 class="fw-bold">Criterio {{ i + 1 }}</h5>

    <div class="mb-2">
      <label>Descripción del criterio</label>
      <textarea class="form-control" rows="2" [(ngModel)]="criterio.descripcion"></textarea>
    </div>

    <!-- Niveles horizontal -->
    <div class="row text-center">
      <div *ngFor="let nivel of criterio.listaNiveles; let j = index" class="col border mx-1 p-2 rounded shadow-sm bg-light">
        <!-- Nota -->
        <div class="mb-2">
          <label>Puntos (obligatorio)</label>
          <input type="number" class="form-control text-center" [(ngModel)]="nivel.nota" min="0" max="5" />
        </div>

        <!-- Título del nivel 
        <div class="mb-2">
          <label>Título del nivel</label>
          <input type="text" class="form-control text-center fw-bold" [(ngModel)]="nivel.titulo" />
        </div> 
        -->
        

        <!-- Descripción -->
        <div class="mb-2">
          <label>Descripción</label>
          <textarea class="form-control" rows="4" [(ngModel)]="nivel.descripcion"></textarea>
        </div>

        <!-- Botón eliminar nivel -->
        <button class="btn btn-sm btn-danger" (click)="eliminarNivel(i, j)">Eliminar nivel</button>
      </div>

      <!-- Botón agregar nivel -->
      <div class="col-auto d-flex align-items-center">
        <button class="btn btn-outline-primary rounded-circle fs-4" (click)="agregarNivel(i)">+</button>
      </div>
    </div>

    <!-- Botón eliminar criterio -->
    <div class="mt-3 text-end">
      <button class="btn btn-danger btn-sm" (click)="eliminarCriterio(i)">Eliminar Criterio</button>
    </div>

    <hr>
  </div>

  <!-- Agregar criterio -->
  <div class="text-center mb-3">
    <button class="btn btn-primary" (click)="agregarCriterio()">Agregar Criterio</button>
  </div>

  <!-- Guardar rúbrica -->
  <div class="text-end">
    <button class="btn btn-success" (click)="guardarRubrica()">Guardar Rúbrica</button>
  </div>
</div>
